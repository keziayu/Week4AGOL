<html>
    <head>
      <meta charset="utf-8" />
      <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no" />
      <title>Valentines Card</title>
  
      <style>
        html,
        body {
          font-family:'Courier New', Courier, monospace;
          height: 100%;
        }
        
        #card {
          position: fixed;
                top:50%;
                left:50%;
                transform: translate(-50%, -50%);
                border: 8px solid pink;
                border-radius: 8px;
                padding: 10px;
                margin: 10px;
                background-color: lavenderblush;
                width: 60%;
                height: 90%;
        }

        h1 {
          text-align: center;
          color: hotpink;
          padding: 20px;
          margin: 10px;
        }

        h3 {
          text-align: center;
          color: indianred;
        }

        h4 {
          color: hotpink;
          text-align: right;
          margin-right:100px;
        }

        p {
          text-align: center;
          color: indianred;
        }

        #viewDiv {
          padding: 0;
          margin: auto;
          height: 60%;
          width: 60%;
          border: 5px solid mediumvioletred;
          border-radius: 5px;
        }

      </style>
        <link rel="stylesheet" href="https://js.arcgis.com/4.18/esri/themes/light/main.css">
        <script src="https://js.arcgis.com/4.18/"></script>
        <script>
            require([
              "esri/config",
              "esri/Map", 
              "esri/views/MapView",
              "esri/widgets/Search",
              "esri/Graphic",
              "esri/layers/GraphicsLayer"
            ], function (esriConfig,Map, MapView, Search, Graphic, GraphicsLayer) {
      
            esriConfig.apiKey = "AAPK81ce638b5eaf457989c9bfaa17654c31MbOxO2iejhdhvns2d1JYrfojJ-TYPJYJwBea_RR9HnJBRDgGMPss_5CIsFJUp90Q";

            const map = new Map({
                basemap: "arcgis-colored-pencil" // Basemap layer service
            });
            const view = new MapView({
                map: map,
                center: [-79.7954, 43.7410], // Longitude, latitude
                zoom: 14, // Zoom level
                container: "viewDiv" // Div element
            });

            // POINT FEATURE
            const graphicsLayer = new GraphicsLayer();
            map.add(graphicsLayer);

            const point = { //Create a point
              type: "point",
              longitude: -79.7954,
              latitude: 43.7410
            };
            const simpleMarkerSymbol = { // Symbolize point
              type: "simple-marker",
              color: [126,25,27],
              outline: {
                color: [255,255,255],
                width: 1
              }
            };
            const popupTemplateX = { //Add popup for point feature on click. Defines pop-up with empty attributes.
              title: "{Name}",
              content: "{Description}"
            }
            const info = { //attributes to fill the empty popup template
              Name: "Hint!",
              Description: "Final Destination: Heart Lake <3 <br> P.S. We need a boat"
            }
            const pointGraphic = new Graphic({
              geometry: point,
              symbol: simpleMarkerSymbol,
              attributes: info,
              popupTemplate: popupTemplateX
            });
            graphicsLayer.add(pointGraphic); // add created point to graphics layer

            // HEART POLYGON
            const polygon = { //Create polygon
              type: "polygon",
              rings: [
              [
                [
                  -79.79850769042969,
                  43.743568748388576
                ],
                [
                  -79.79850769042969,
                  43.73941409114798
                ],
                [
                  -79.79782104492188,
                  43.73811182580213
                ],
                [
                  -79.79670524597168,
                  43.73767773105935
                ],
                [
                  -79.79576110839844,
                  43.73736766145917
                ],
                [
                  -79.79498863220215,
                  43.73786377204876
                ],
                [
                  -79.79455947875977,
                  43.73873195568971
                ],
                [
                  -79.79421615600586,
                  43.73916604278959
                ],
                [
                  -79.7932720184326,
                  43.738607930226
                ],
                [
                  -79.79207038879395,
                  43.738545917397815
                ],
                [
                  -79.79086875915527,
                  43.73916604278959
                ],
                [
                  -79.79052543640137,
                  43.74028225230979
                ],
                [
                  -79.79121208190918,
                  43.741212411013954
                ],
                [
                  -79.79232788085938,
                  43.742328582383756
                ],
                [
                  -79.79387283325195,
                  43.74307268506953
                ],
                [
                  -79.79850769042969,
                  43.743568748388576
                ]
              ]
            ]
            };

            const simpleFillSymbol = { //Symbolize polygon
              type: "simple-fill",
              color: [254,127,156, 0.25], //Watermelon pink, 0.25 opacity
              outline: {
                color: [255,255,255], //White
                width:1
              }
            };

            const polygonGraphic = new Graphic({ 
              geometry: polygon,
              symbol: simpleFillSymbol,
            });
            graphicsLayer.add(polygonGraphic); //Adds polygon to graphics layer

            // SEARCH BAR
            const search = new Search({ //Add Search widget
              view: view
            });
            view.ui.add(search, "top-right"); // Add to the map

         });
        </script>
  
    </head>
    <body>
      <div id=card>
          <h1>WILL YOU BE MY VALENTINE</h1>
          <h3>Do you have a map, because I just got lost in your eyes.</h3>
          <div id="viewDiv"></div>
          <h4>to:_______________ </h4>
          <h4>from: Kezia Yu, 2021</h4>
      </div>
    </body>
  </html>